@using Piipan.Components.Alerts
@using static Shared.CommonConstants
@using static FormConstants
@code {
    [Parameter] public RenderFragment ChildContent { get; set; }
    [Parameter] public object Model { get; set; }
    [Parameter] public Func<bool, Task> OnSubmit { get; set; }
    [Parameter(CaptureUnmatchedValues = true)]
    public IReadOnlyDictionary<string, object> AdditionalAttributes { get; set; }

    // More code in code behind
}

<CascadingValue Value="this">
    @if (ShowAlertBox && HasErrors)
    {
        <UsaAlertBox Header="Errors">
            <ul>
                @foreach (var errorPair in currentErrors)
                {
                    foreach (var error in errorPair.Errors)
                    {
                        var linkPart = error.IndexOf("@@@");
                        @if (linkPart >= 0)
                        {
                            <li>
                                @if (linkPart > 0)
                                {
                                    @error.Substring(0, linkPart)
                                }
                                <button class="@ButtonClass @ButtonUnstyledClass"
                                    @onclick="() => errorPair.FormGroup.InputElement?.FocusAsync()">
                                    @errorPair.FormGroup.Label
                                </button>
                                @error.Substring(linkPart + 3)
                            </li>
                        }
                        else
                        {
                            <li>@error</li>    
                        }
                    }
                    
                }
            </ul>
        </UsaAlertBox>
    }
    
    <EditForm EditContext="editContext" class="@FormClass" OnSubmit="SubmitForm" @attributes="AdditionalAttributes" novalidate>
        <fieldset class="@FieldsetClass">
            @ChildContent
        </fieldset>
    </EditForm>
</CascadingValue>